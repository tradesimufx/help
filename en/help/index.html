<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>アプリの操作方法</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/assets/site.css">
</head>
<body>
  <div class="layout">

    <!-- サイドバー -->
    <aside class="sidebar">
      <div class="app-title">アプリ操作ヘルプ</div>
      <div class="app-subtitle">FX検証アプリの使い方ガイド</div>

      <!-- 基本セクション（タイトルもタップで「はじめに」を開く） -->
      <div class="nav-section-title" data-target="intro">基本</div>
      <ul class="nav-list">
        <li class="nav-item">
          <button class="nav-button active" data-page="intro">はじめに</button>
        </li>
        <li class="nav-item">
          <button class="nav-button" data-page="basic">基本画面</button>
        </li>
        <li class="nav-item">
          <button class="nav-button" data-page="chart">チャートの操作</button>
        </li>
        <li class="nav-item">
          <button class="nav-button" data-page="trade">エントリーと決済</button>
        </li>
      </ul>

      <!-- 機能別ガイド（タイトルで「レポート画面」を開く） -->
      <div class="nav-section-title" data-target="report">機能別ガイド</div>
      <ul class="nav-list">
        <li class="nav-item">
          <button class="nav-button" data-page="report">レポート画面</button>
        </li>
        <li class="nav-item">
          <button class="nav-button" data-page="data">データ更新・バックアップ</button>
        </li>
      </ul>

      <!-- サポート（タイトルで「よくある質問」を開く） -->
      <div class="nav-section-title" data-target="faq">サポート</div>
      <ul class="nav-list">
        <li class="nav-item">
          <button class="nav-button" data-page="faq">よくある質問</button>
        </li>
        <li class="nav-item">
          <button class="nav-button" data-page="contact">お問い合わせ</button>
        </li>
      </ul>
    </aside>

    <!-- メインコンテンツ -->
    <main class="content">
      <div class="content-inner">

        <!-- ======================= -->
        <!--  はじめに                -->
        <!-- ======================= -->
        <section id="page-intro" class="page active">
          <h1>アプリの操作方法</h1>
          <p class="page-lead">
            このページは、FX検証アプリの基本的な操作方法や各機能の使い方をまとめたヘルプサイトです。
            左のメニューから知りたい項目を選んでください。
          </p>

          <h2>このアプリでできること</h2>
          <p>
            ここに「アプリの概要」「どういう人向けか」「実際の金銭を伴う取引はできない」など、
            全体の説明文を記載してください。
          </p>

          <div class="screenshot">
            <!-- メイン画面のスクショを img フォルダに入れて参照 -->
            <img src="img/main-screen.png" alt="メイン画面のスクリーンショット">
            <div class="screenshot-caption">メイン画面の例</div>
          </div>

          <div class="note">
            例：為替データの更新頻度や対応している通貨ペアなど、よく聞かれる前提条件をまとめておくと、
            このあと出てくる FAQ が読みやすくなります。
          </div>

          <h2>ヘルプの読み方</h2>
          <ul>
            <li><b>基本画面</b>：アプリ全体の構成と、主なボタンの役割を説明します。</li>
            <li><b>チャートの操作</b>：再生・一時停止・時間足切り替えなど、「チャートを動かす系」の操作をまとめます。</li>
            <li><b>エントリーと決済</b>：仮想エントリーの入れ方や、決済・ミスしたときの取り消し方法など。</li>
            <li><b>レポート画面</b>：損益グラフや期待値など、検証結果の見方を説明します。</li>
            <li><b>データ更新・バックアップ</b>：為替データの更新タイミングやバックアップ方法の説明。</li>
            <li><b>よくある質問</b>：仕様に関する質問や、トラブル時の切り分けをまとめています。</li>
          </ul>
        </section>

        <!-- ======================= -->
        <!--  基本画面                -->
        <!-- ======================= -->
        <section id="page-basic" class="page">
          <h1>基本画面</h1>
          <p class="page-lead">
            アプリ起動直後に表示される画面の構成と、各ボタンの役割を説明します。
          </p>

          <h2>画面の構成</h2>
          <p>ここに「上部バー / チャート領域 / 下部コントロール」などの説明を入れてください。</p>

          <div class="screenshot">
            <img src="img/basic-layout.png" alt="基本画面の構成">
            <div class="screenshot-caption">基本画面のレイアウト</div>
          </div>

          <h2>主なボタンの説明</h2>
          <ul>
            <li><b>再生ボタン：</b>チャートの再生を開始します。</li>
            <li><b>一時停止ボタン：</b>再生中のチャートを一時停止します。</li>
            <li><b>速度切り替え：</b>チャート再生の速度を変更します。</li>
            <!-- 実アプリに合わせて追記 -->
          </ul>
        </section>

        <!-- ======================= -->
        <!--  チャートの操作           -->
        <!-- ======================= -->
        <section id="page-chart" class="page">
          <h1>チャートの操作</h1>
          <p class="page-lead">
            チャートの再生・停止、時間足の切り替え、描画ツールの使い方などを説明します。
          </p>
        
          <!-- ミニ目次：大きな3グループ -->
          <div class="chart-toc">
            <div class="chart-toc-title">このページの内容</div>
            <ul>
              <li><a href="#chart-basic">チャートの基本操作</a></li>
              <li><a href="#chart-drawing">描画ツールの使い方</a></li>
              <li><a href="#chart-display">表示・インジケータの設定</a></li>
            </ul>
          </div>

          <!-- 1. チャートの基本操作 -->
          <h2 id="chart-basic">チャートの基本操作</h2>
        
          <h3>チャートを再生する</h3>
          <ol>
            <li>チャート画面を開きます。</li>
            <li>画面下部の <b>再生ボタン</b> をタップします。</li>
            <li>再生速度を変更したい場合は、速度切り替えボタンから任意の速度を選択します。</li>
          </ol>
        
          <h3>時間足を切り替える</h3>
          <ol>
            <li>画面上部の「時間足」ボタンをタップします。</li>
            <li>1分足 / 5分足 / 15分足 / … などから、使用したい時間足を選びます。</li>
          </ol>
        
          <h3>チャートを移動・拡大縮小する</h3>
          <ul>
            <li>左右にスワイプすると、過去・未来のチャートを表示できます。</li>
            <li>2本指でピンチイン / アウトして、拡大・縮小できます。</li>
          </ul>
          
          <!-- 2. 描画ツールの使い方 -->
          <h2 id="chart-drawing">描画ツールの使い方</h2>
        
          <p>
            トレンドラインやフィボナッチなどの描画ツールは、基本的な操作方法が共通です。
            まずは共通のルールを説明し、その後で各ツールごとの違いを説明します。
          </p>
        
          <h3>共通の操作</h3>
          <ul>
            <li>下部メニューから目的の描画ツールを選択します。</li>
            <li>チャート上をドラッグして、図形の始点と終点を指定します。</li>
            <li>図形をタップすると、削除や色変更などのメニューが表示されます。（仕様に合わせて調整）</li>
          </ul>
        
          <h3>図形ごとの説明</h3>
          <p>よく使うツールから順にまとめています。必要な項目だけ開いてご覧ください。</p>
        
          <!-- 図形1：フィボナッチ -->
          <details>
            <summary>フィボナッチ retracement</summary>
            <p>
              上昇／下降の波に対して押し目・戻り目の候補を表示するためのツールです。
            </p>
            <ol>
              <li>描画ツールから <b>フィボナッチ</b> を選びます。</li>
              <li>波の始点から終点に向かってドラッグします。</li>
              <li>レベルの値（0.382 / 0.5 / 0.618 など）は設定画面から変更できます。</li>
            </ol>
          </details>
        
          <!-- 図形2：チャネル -->
          <details>
            <summary>チャネル（平行チャネル）</summary>
            <p>
              トレンド方向の高値・安値を結んだ平行ラインを表示するツールです。
            </p>
            <ol>
              <li>描画ツールから <b>チャネル</b> を選びます。</li>
              <li>1本目のトレンドラインをドラッグして作成します。</li>
              <li>もう一方のラインをドラッグして、幅を調整します。</li>
            </ol>
          </details>
        
          <!-- 図形3：長方形 -->
          <details>
            <summary>長方形（ゾーンの表示）</summary>
            <p>
              レンジ帯やサポレジゾーンをハイライトするために使用します。
            </p>
            <ol>
              <li>描画ツールから <b>長方形</b> を選びます。</li>
              <li>チャート上をドラッグして、範囲を指定します。</li>
              <li>色や透明度は設定画面から変更できます。</li>
            </ol>
          </details>

        </section>

        <!-- ======================= -->
        <!--  エントリーと決済         -->
        <!-- ======================= -->
        <section id="page-trade" class="page">
          <h1>エントリーと決済</h1>
          <p class="page-lead">
            仮想エントリーの登録方法や、決済・取り消しについて説明します。
          </p>

          <h2>新規エントリーを登録する方法</h2>
          <ol>
            <li>チャートを再生し、エントリーしたい位置で一時停止します。</li>
            <li>画面下部の <b>エントリーボタン</b> をタップします。</li>
            <li>買い / 売り、ロット数、損切り・利確の設定を入力します。</li>
            <li>内容を確認し、「登録」ボタンをタップします。</li>
          </ol>

          <h2>ポジションを決済する方法</h2>
          <ol>
            <li>決済したいトレードを選択します。</li>
            <li>「決済」ボタンをタップし、確認ダイアログで内容を確認します。</li>
          </ol>

          <h2>誤って登録したトレードを削除する</h2>
          <p>ここに「削除ボタン」や「長押しで削除」など、実際の仕様に合わせて記載してください。</p>
        </section>

        <!-- ======================= -->
        <!--  レポート画面            -->
        <!-- ======================= -->
        <section id="page-report" class="page">
          <h1>レポート画面</h1>
          <p class="page-lead">
            成績のまとめや期待値の確認など、検証結果の見方を説明します。
          </p>

          <h2>レポート画面を開く</h2>
          <p>ここに「メニューからレポートを選ぶ」などの導線を記載してください。</p>

          <h2>主な指標の意味</h2>
          <ul>
            <li><b>勝率：</b>勝ちトレードの割合を示します。</li>
            <li><b>平均損益：</b>1トレードあたりの平均損益です。</li>
            <li><b>最大ドローダウン：</b>資産がどれだけ大きく減ったかの最大値です。</li>
            <!-- 実際のレポート項目に合わせて追記 -->
          </ul>
        </section>

        <!-- ======================= -->
        <!--  データ更新・バックアップ  -->
        <!-- ======================= -->
        <section id="page-data" class="page">
          <h1>データ更新・バックアップ</h1>
          <p class="page-lead">
            為替データの更新方法や、バックアップ・復元の手順を説明します。
          </p>

          <h2>為替データの更新</h2>
          <p>ここに「通常は1週間ごとに更新」「年末年始は〜」などの説明を記載してください。</p>

          <h2>バックアップを作成する方法</h2>
          <ol>
            <li>設定画面を開きます。</li>
            <li>「バックアップ」セクションを選択します。</li>
            <li>「新しいバックアップを作成」ボタンをタップします。</li>
          </ol>

          <h2>バックアップから復元する方法</h2>
          <ol>
            <li>バックアップ一覧から復元したい日付を選択します。</li>
            <li>「このバックアップから復元」ボタンをタップします。</li>
            <li>注意事項を確認し、実行します。</li>
          </ol>
        </section>

        <!-- ======================= -->
        <!--  よくある質問            -->
        <!-- ======================= -->
        <section id="page-faq" class="page">
          <h1>よくある質問</h1>
          <p class="page-lead">
            ユーザーからよくいただく質問と、その回答をまとめています。
          </p>

          <h2>アプリの仕様について</h2>

          <details>
            <summary>ストップの位置を変更したい</summary>
            <p>
              ストップのラインを上下にスワイプすると移動できます。右端の価格部分がタッチできるようになっています。
            </p>
          </details>

          <details>
            <summary>為替データはどのくらいの頻度で更新されますか？</summary>
            <p>
              為替データは月曜の朝7時に先週の分が追加されます。XAUUSDはアプリのアップデート時に更新していますので約一ヶ月ごとになります。クリスマスから年末年始の期間は一時的にデータ更新を停止して年明けにまとめて更新になります。
            </p>
          </details>

          <h2>トラブル・エラーについて</h2>

          <details>
            <summary>チャートが表示されません。</summary>
            <p>
              ここに「データの再ダウンロード」「アプリの再起動」「端末の空き容量」など、
              実際に案内したい対処手順を記載してください。
            </p>
          </details>

          <details>
            <summary>移動平均線を表示するには？</summary>
            <p>
              ここに、よくある原因と対応策を記載してください。
            </p>
          </details>
        </section>

        <!-- ======================= -->
        <!--  お問い合わせ            -->
        <!-- ======================= -->
        <section id="page-contact" class="page">
          <h1>お問い合わせ</h1>
          <p class="page-lead">
            バグ報告やご要望がある場合は、以下の方法でご連絡ください。
          </p>

          <h2>メールでお問い合わせ</h2>
          <p>
            下記アドレス宛にご連絡ください：<br>
            <code>tradesimufx@gmail.com</code>
          </p>

          <p>可能であれば、以下の情報もあわせて記載していただけるとスムーズです：</p>
          <ul>
            <li>ご利用の端末名（例：iPad ○○, iPhone △△）</li>
            <li>OSバージョン（例：iOS 18.1）</li>
            <li>アプリのバージョン</li>
            <li>発生した現象の内容と、再現手順</li>
          </ul>

          <h2>フォームからのお問い合わせ</h2>
          <p>
            バグの報告や機能に関するご要望がある場合は、下記のフォームからお知らせください。<br>
            <a href="https://docs.google.com/forms/d/e/1FAIpQLSfTkeFCD68UlnX-u2nKv-RrMSq8r2WrmjiPsykw_XtYyqlBRQ/viewform" target="_blank" rel="noopener">
              お問い合わせフォームを開く
            </a>
          </p>
        </section>

      </div>
    </main>
  </div>

  <script>
    const buttons = document.querySelectorAll(".nav-button");
    const pages   = document.querySelectorAll(".page");

    function showPage(pageId) {
      if (!pageId) return;

      // ボタンの見た目更新
      buttons.forEach(b => {
        b.classList.toggle("active", b.dataset.page === pageId);
      });

      // ページ切り替え
      pages.forEach(p => p.classList.remove("active"));
      const target = document.getElementById("page-" + pageId);
      if (target) {
        target.classList.add("active");
        window.scrollTo({ top: 0, behavior: "auto" });
      }
    }

    // ボタンタップでページ切り替え
    buttons.forEach(btn => {
      const pageId = btn.dataset.page;
      if (!pageId) return;
      btn.addEventListener("click", () => showPage(pageId));
    });

    // セクションタイトルタップで、対応する先頭ページを開く
    document.querySelectorAll(".nav-section-title[data-target]")
      .forEach(title => {
        title.addEventListener("click", () => {
          const pageId = title.dataset.target; // 例: "intro"
          showPage(pageId);
        });
      });
  </script>
</body>
</html>
