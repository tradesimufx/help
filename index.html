<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>アプリの操作方法</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    :root {
      --bg: #f8f9fb;
      --bg-content: #ffffff;
      --border: #dde1e7;
      --accent: #2563eb;
      --text-main: #111827;
      --text-sub: #6b7280;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont,
                   "Helvetica Neue", "Segoe UI", sans-serif;
      background: var(--bg);
      color: var(--text-main);
    }

    a {
      color: var(--accent);
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }

    .layout {
      display: flex;
      min-height: 100vh;
    }

    /* サイドバー */
    .sidebar {
      width: 250px;
      border-right: 1px solid var(--border);
      background: #f1f5f9;
      padding: 16px 12px;
      position: sticky;
      top: 0;
      align-self: flex-start;
      max-height: 100vh;
      overflow-y: auto;
    }

    .app-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .app-subtitle {
      font-size: 12px;
      color: var(--text-sub);
      margin-bottom: 16px;
    }

    .nav-section-title {
      font-size: 11px;
      font-weight: 600;
      color: var(--text-sub);
      margin: 16px 6px 4px;
      text-transform: uppercase;
      letter-spacing: .08em;
      padding: 4px 6px;
      border-radius: 6px;
      /* iPhone 向け：タップできそうに見せる */
      background: transparent;
      user-select: none;
      -webkit-user-select: none;
    }

    .nav-section-title:active {
      background: #e5efff;
    }

    .nav-list {
      list-style: none;
      margin: 0 0 0 4px;
      padding: 0;
    }

    .nav-item {
      margin: 2px 0;
    }

    .nav-button {
      width: 100%;
      border: none;
      background: none;
      text-align: left;
      padding: 8px 10px;
      border-radius: 6px;
      font-size: 14px;
      cursor: pointer;
      color: var(--text-main);
    }

    .nav-button:hover {
      background: #e5efff;
    }

    .nav-button.active {
      background: var(--accent);
      color: #ffffff;
      font-weight: 600;
    }

    /* メインコンテンツ */
    .content {
      flex: 1;
      padding: 20px 20px 40px;
    }

    .content-inner {
      max-width: 880px;
      margin: 0 auto;
      background: var(--bg-content);
      border-radius: 12px;
      border: 1px solid var(--border);
      padding: 24px 20px 32px;
      box-shadow: 0 8px 18px rgba(15, 23, 42, 0.06);
    }

    .page {
      display: none;
    }
    .page.active {
      display: block;
    }

    h1 {
      font-size: 22px;
      margin: 0 0 4px;
    }

    .page-lead {
      font-size: 14px;
      color: var(--text-sub);
      margin-bottom: 20px;
    }

    h2 {
      font-size: 18px;
      margin: 24px 0 8px;
      border-left: 3px solid var(--accent);
      padding-left: 8px;
    }

    h3 {
      font-size: 16px;
      margin: 16px 0 6px;
    }

    p {
      font-size: 14px;
      line-height: 1.6;
      margin: 4px 0 10px;
    }

    ul, ol {
      font-size: 14px;
      padding-left: 1.4em;
      margin: 4px 0 10px;
    }

    code {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
                   "Liberation Mono", "Courier New", monospace;
      font-size: 13px;
      background: #f3f4f6;
      padding: 2px 4px;
      border-radius: 4px;
    }

    .note {
      border-left: 3px solid #f59e0b;
      background: #fffbeb;
      border-radius: 6px;
      padding: 8px 10px;
      font-size: 13px;
      margin: 8px 0 14px;
    }

    .screenshot {
      margin: 10px 0 16px;
      text-align: center;
    }
    .screenshot img {
      max-width: 100%;
      border-radius: 8px;
      border: 1px solid var(--border);
    }
    .screenshot-caption {
      font-size: 12px;
      color: var(--text-sub);
      margin-top: 4px;
    }

    /* チャート操作ページのミニ目次 */
    .chart-toc {
      font-size: 13px;
      background: #f9fafb;
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 8px 10px;
      margin-bottom: 16px;
    }

    .chart-toc-title {
      font-weight: 600;
      margin-bottom: 4px;
      color: var(--text-sub);
    }

    .chart-toc ul {
      margin: 4px 0 0;
      padding-left: 1.2em;
    }

    .chart-toc a {
      text-decoration: none;
    }

    .chart-toc a:hover {
      text-decoration: underline;
    }

    /* ページ内リンクのスクロールを滑らかに（対応ブラウザのみ） */
    html {
      scroll-behavior: smooth;
    }

    /* FAQ */
    details {
      border-radius: 8px;
      border: 1px solid var(--border);
      background: #f9fafb;
      margin: 8px 0;
      padding: 8px 10px;
    }

    summary {
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      list-style: none;
    }

    summary::-webkit-details-marker {
      display: none;
    }

    summary::before {
      content: "Q";
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 18px;
      height: 18px;
      border-radius: 999px;
      background: #e5e7eb;
      font-size: 11px;
      margin-right: 8px;
    }

    details[open] summary::before {
      background: var(--accent);
      color: #fff;
    }

    details p {
      margin-top: 8px;
    }

    /* スマホ対応 */
    @media (max-width: 800px) {
      /* 全体を上下レイアウトに */
      .layout {
        flex-direction: column;
      }

      /* サイドバーは「普通の縦並び」に戻す */
      .sidebar {
        width: 100%;
        position: static;
        display: block;              /* ★ 1列表示 */
        border-right: none;
        border-bottom: 1px solid var(--border);
        padding: 12px 10px;
      }
    
      /* スマホではグループ見出し（基本／機能別…）は非表示 */
      .nav-section-title {
        display: none;
      }
    
      /* タイトルとサブタイトルの余白だけ少し調整 */
      .app-title {
        font-size: 17px;
        margin-bottom: 2px;
      }
      .app-subtitle {
        margin-bottom: 10px;
      }
    
      /* メニュー項目は全て縦1列で全幅 */
      .nav-list {
        list-style: none;
        margin: 0;
        padding: 0;
      }
    
      .nav-item {
        margin: 2px 0;
      }
    
      .nav-button {
        width: 100%;
        font-size: 15px;
        padding: 10px;
      }
    
      /* 本文側は画面いっぱいに */
      .content {
        padding: 10px;
      }
    
      .content-inner {
        padding: 18px 14px 24px;
        border-radius: 0;        /* カード角丸を消して */
        max-width: 100%;         /* 右の余白をなくす */
        margin: 0;
        border-left: none;
        border-right: none;
      }
    
      h1 {
        font-size: 20px;
      }
    
      p,
      ul,
      ol {
        font-size: 15px;
      }
    }

  </style>
</head>
<body>
  <div class="layout">

    <!-- サイドバー -->
    <aside class="sidebar">
      <div class="app-title">アプリ操作ヘルプ</div>
      <div class="app-subtitle">FX検証アプリの使い方ガイド</div>

      <!-- 基本セクション（タイトルもタップで「はじめに」を開く） -->
      <div class="nav-section-title" data-target="intro">基本</div>
      <ul class="nav-list">
        <li class="nav-item">
          <button class="nav-button active" data-page="intro">はじめに</button>
        </li>
        <li class="nav-item">
          <button class="nav-button" data-page="basic">基本画面</button>
        </li>
        <li class="nav-item">
          <button class="nav-button" data-page="chart">チャートの操作</button>
        </li>
        <li class="nav-item">
          <button class="nav-button" data-page="trade">エントリーと決済</button>
        </li>
      </ul>

      <!-- 機能別ガイド（タイトルで「レポート画面」を開く） -->
      <div class="nav-section-title" data-target="report">機能別ガイド</div>
      <ul class="nav-list">
        <li class="nav-item">
          <button class="nav-button" data-page="report">レポート画面</button>
        </li>
        <li class="nav-item">
          <button class="nav-button" data-page="data">データ更新・バックアップ</button>
        </li>
      </ul>

      <!-- サポート（タイトルで「よくある質問」を開く） -->
      <div class="nav-section-title" data-target="faq">サポート</div>
      <ul class="nav-list">
        <li class="nav-item">
          <button class="nav-button" data-page="faq">よくある質問</button>
        </li>
        <li class="nav-item">
          <button class="nav-button" data-page="contact">お問い合わせ</button>
        </li>
      </ul>
    </aside>

    <!-- メインコンテンツ -->
    <main class="content">
      <div class="content-inner">

        <!-- はじめに -->
        <section id="page-intro" class="page active">
          <h1>アプリの操作方法</h1>
          <p class="page-lead">
            このページは、FX検証アプリの基本的な操作方法や各機能の使い方をまとめたヘルプサイトです。
            左のメニューから知りたい項目を選んでください。
          </p>

          <h2>このアプリでできること</h2>
          <p>
            ここに「アプリの概要」「どういう人向けか」「実際の金銭を伴う取引はできない」など、
            全体の説明文を記載してください。
          </p>

          <div class="screenshot">
            <!-- メイン画面のスクショを img フォルダに入れて参照 -->
            <img src="img/main-screen.png" alt="メイン画面のスクリーンショット">
            <div class="screenshot-caption">メイン画面の例</div>
          </div>

          <div class="note">
            例：為替データの更新頻度や対応している通貨ペアなど、よく聞かれる前提条件をまとめておくと、
            このあと出てくる FAQ が読みやすくなります。
          </div>

          <h2>ヘルプの読み方</h2>
          <ul>
            <li><b>基本画面</b>：アプリ全体の構成と、主なボタンの役割を説明します。</li>
            <li><b>チャートの操作</b>：再生・一時停止・時間足切り替えなど、「チャートを動かす系」の操作をまとめます。</li>
            <li><b>エントリーと決済</b>：仮想エントリーの入れ方や、決済・ミスしたときの取り消し方法など。</li>
            <li><b>レポート画面</b>：損益グラフや期待値など、検証結果の見方を説明します。</li>
            <li><b>データ更新・バックアップ</b>：為替データの更新タイミングやバックアップ方法の説明。</li>
            <li><b>よくある質問</b>：仕様に関する質問や、トラブル時の切り分けをまとめています。</li>
          </ul>
        </section>

        <!-- 基本画面 -->
        <section id="page-basic" class="page">
          <h1>基本画面</h1>
          <p class="page-lead">
            アプリ起動直後に表示される画面の構成と、各ボタンの役割を説明します。
          </p>

          <h2>画面の構成</h2>
          <p>ここに「上部バー / チャート領域 / 下部コントロール」などの説明を入れてください。</p>

          <div class="screenshot">
            <img src="img/basic-layout.png" alt="基本画面の構成">
            <div class="screenshot-caption">基本画面のレイアウト</div>
          </div>

          <h2>主なボタンの説明</h2>
          <ul>
            <li><b>再生ボタン：</b>チャートの再生を開始します。</li>
            <li><b>一時停止ボタン：</b>再生中のチャートを一時停止します。</li>
            <li><b>速度切り替え：</b>チャート再生の速度を変更します。</li>
            <!-- 実アプリに合わせて追記 -->
          </ul>
        </section>

        <!-- チャートの操作 -->
        <section id="page-chart" class="page">
          <h1>チャートの操作</h1>
          <p class="page-lead">
            チャートの再生・停止、時間足の切り替え、スクロールなど、チャート画面の基本操作を説明します。
          </p>

          <!-- ミニ目次 -->
          <div class="chart-toc">
            <div class="chart-toc-title">このページの内容</div>
            <ul>
              <li><a href="#chart-play">チャートを再生する</a></li>
              <li><a href="#chart-timeframe">時間足を切り替える</a></li>
              <li><a href="#chart-move">チャートを移動する</a></li>
              <li><a href="#chart-zoom">拡大・縮小する</a></li>
            </ul>
          </div>

          <!-- セクション1：再生 -->
          <h2 id="chart-play">チャートを再生する</h2>
          <ol>
            <li>チャート画面を開きます。</li>
            <li>画面下部の <b>再生ボタン</b> をタップします。</li>
            <li>再生速度を変更したい場合は、速度切り替えボタンから任意の速度を選択します。</li>
          </ol>

          <!-- セクション2：時間足 -->
          <h2 id="chart-timeframe">時間足を切り替える</h2>
          <ol>
            <li>画面上部の「時間足」ボタンをタップします。</li>
            <li>1分足 / 5分足 / 15分足 / … などから、使用したい時間足を選びます。</li>
          </ol>

          <!-- セクション3：移動 -->
          <h2 id="chart-move">チャートを移動する</h2>
          <ul>
            <li>左右にスワイプすると、過去・未来のチャートを表示できます。</li>
            <li>長押ししながらドラッグして、細かく位置を調整することもできます（仕様に合わせて調整）。</li>
          </ul>

          <!-- セクション4：拡大・縮小 -->
          <h2 id="chart-zoom">拡大・縮小する</h2>
          <ul>
            <li>2本指でピンチインすると、チャートが縮小され、より広い期間を表示できます。</li>
            <li>2本指でピンチアウトすると、チャートが拡大され、価格の細かい動きを確認できます。</li>
          </ul>
        </section>

        <!-- エントリーと決済 -->
        <section id="page-trade" class="page">
          <h1>エントリーと決済</h1>
          <p class="page-lead">
            仮想エントリーの登録方法や、決済・取り消しについて説明します。
          </p>

          <h2>新規エントリーを登録する方法</h2>
          <ol>
            <li>チャートを再生し、エントリーしたい位置で一時停止します。</li>
            <li>画面下部の <b>エントリーボタン</b> をタップします。</li>
            <li>買い / 売り、ロット数、損切り・利確の設定を入力します。</li>
            <li>内容を確認し、「登録」ボタンをタップします。</li>
          </ol>

          <h2>ポジションを決済する方法</h2>
          <ol>
            <li>決済したいトレードを選択します。</li>
            <li>「決済」ボタンをタップし、確認ダイアログで内容を確認します。</li>
          </ol>

          <h2>誤って登録したトレードを削除する</h2>
          <p>ここに「削除ボタン」や「長押しで削除」など、実際の仕様に合わせて記載してください。</p>
        </section>

        <!-- レポート画面 -->
        <section id="page-report" class="page">
          <h1>レポート画面</h1>
          <p class="page-lead">
            成績のまとめや期待値の確認など、検証結果の見方を説明します。
          </p>

          <h2>レポート画面を開く</h2>
          <p>ここに「メニューからレポートを選ぶ」などの導線を記載してください。</p>

          <h2>主な指標の意味</h2>
          <ul>
            <li><b>勝率：</b>勝ちトレードの割合を示します。</li>
            <li><b>平均損益：</b>1トレードあたりの平均損益です。</li>
            <li><b>最大ドローダウン：</b>資産がどれだけ大きく減ったかの最大値です。</li>
            <!-- 実際のレポート項目に合わせて追記 -->
          </ul>
        </section>

        <!-- データ更新・バックアップ -->
        <section id="page-data" class="page">
          <h1>データ更新・バックアップ</h1>
          <p class="page-lead">
            為替データの更新方法や、バックアップ・復元の手順を説明します。
          </p>

          <h2>為替データの更新</h2>
          <p>ここに「通常は1週間ごとに更新」「年末年始は〜」などの説明を記載してください。</p>

          <h2>バックアップを作成する方法</h2>
          <ol>
            <li>設定画面を開きます。</li>
            <li>「バックアップ」セクションを選択します。</li>
            <li>「新しいバックアップを作成」ボタンをタップします。</li>
          </ol>

          <h2>バックアップから復元する方法</h2>
          <ol>
            <li>バックアップ一覧から復元したい日付を選択します。</li>
            <li>「このバックアップから復元」ボタンをタップします。</li>
            <li>注意事項を確認し、実行します。</li>
          </ol>
        </section>

        <!-- よくある質問 -->
        <section id="page-faq" class="page">
          <h1>よくある質問</h1>
          <p class="page-lead">
            ユーザーからよくいただく質問と、その回答をまとめています。
          </p>

          <h2>アプリの仕様について</h2>

          <details>
            <summary>実際のお金を使った取引はできますか？</summary>
            <p>
              いいえ。本アプリは過去検証（バックテスト）のためのツールであり、
              実際の金銭を伴う取引機能はありません。
            </p>
          </details>

          <details>
            <summary>為替データはどのくらいの頻度で更新されますか？</summary>
            <p>
              ここに現在の運用（例：通常は1週間ごと、年末年始は〜）を記載してください。
            </p>
          </details>

          <h2>トラブル・エラーについて</h2>

          <details>
            <summary>チャートが表示されません。</summary>
            <p>
              ここに「データの再ダウンロード」「アプリの再起動」「端末の空き容量」など、
              実際に案内したい対処手順を記載してください。
            </p>
          </details>

          <details>
            <summary>バックアップから復元してもデータが反映されません。</summary>
            <p>
              ここに、よくある原因と対応策を記載してください。
            </p>
          </details>
        </section>

        <!-- お問い合わせ -->
        <section id="page-contact" class="page">
          <h1>お問い合わせ</h1>
          <p class="page-lead">
            バグ報告やご要望がある場合は、以下の方法でご連絡ください。
          </p>

          <h2>メールでお問い合わせ</h2>
          <p>
            下記アドレス宛にご連絡ください：<br>
            <code>tradesimufx@gmail.com</code>
          </p>

          <p>可能であれば、以下の情報もあわせて記載していただけるとスムーズです：</p>
          <ul>
            <li>ご利用の端末名（例：iPad ○○, iPhone △△）</li>
            <li>OSバージョン（例：iOS 18.1）</li>
            <li>アプリのバージョン</li>
            <li>発生した現象の内容と、再現手順</li>
          </ul>

          <h2>フォームでお問い合わせ</h2>
          <p>
            Googleフォームからバグ報告やご要望を行う場合はこちら：<br>
            <a href="https://docs.google.com/forms/d/e/1FAIpQLSfTkeFCD68UlnX-u2nKv-RrMSq8r2WrmjiPsykw_XtYyqlBRQ/viewform" target="_blank" rel="noopener">
              お問い合わせフォームを開く
            </a>
          </p>
        </section>

      </div>
    </main>
  </div>

  <script>
    const buttons = document.querySelectorAll(".nav-button");
    const pages   = document.querySelectorAll(".page");

    function showPage(pageId) {
      if (!pageId) return;

      // ボタンの見た目更新
      buttons.forEach(b => {
        b.classList.toggle("active", b.dataset.page === pageId);
      });

      // ページ切り替え
      pages.forEach(p => p.classList.remove("active"));
      const target = document.getElementById("page-" + pageId);
      if (target) {
        target.classList.add("active");
        window.scrollTo({ top: 0, behavior: "auto" });
      }
    }

    // ボタンタップでページ切り替え
    buttons.forEach(btn => {
      const pageId = btn.dataset.page;
      if (!pageId) return;
      btn.addEventListener("click", () => showPage(pageId));
    });

    // セクションタイトルタップで、対応する先頭ページを開く
    document.querySelectorAll(".nav-section-title[data-target]")
      .forEach(title => {
        title.addEventListener("click", () => {
          const pageId = title.dataset.target; // 例: "intro"
          showPage(pageId);
        });
      });
  </script>
</body>
</html>
